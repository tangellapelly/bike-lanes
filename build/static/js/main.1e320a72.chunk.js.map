{"version":3,"sources":["style/global.scss","static/lyon.png","static/paris.png","static/nantes.png","static/berlin.png","static/frankfurt.png","static/hamburg.png","static/stuttgart.png","static/style.yaml","style/app.scss","components/Sidebar.scss","components/Header.scss","components/CityTile.scss","components/MobileNav.scss","components/Map.scss","config.js","static/Logo.js","components/Header.js","util/formatPopulation.js","components/CityTile.js","components/Sidebar.js","components/MobileNav.js","components/Descriptor.js","util/LayerManager.js","components/Map.js","App.js","index.js"],"names":["module","exports","platform","window","H","service","Platform","apikey","colors","covid","normal","locations","paris","coordinates","lat","lng","country","label","img","parisImg","attribution","href","measurements","population","nantes","nantesImg","lyon","lyonImg","berlin","berlinImg","frankfurt","frankfurtImg","stuttgart","stuttgartImg","hamburg","hamburgImg","maxMeasurement","Math","max","Object","keys","map","x","console","log","spaces","logo","props","src","alt","Header","Logo","className","formatPopulation","input","toFixed","CityTile","city","selected","to","type","checked","round","Section","title","children","Sidebar","header","style","background","currCity","index","key","MobileNav","selectedTab","setSelectedTab","onClick","FormatListBulleted","Descriptor","side","sliderPos","left","layerManager","this","getXYZService","token","covidProvider","xyz","Provider","covidLayer","layer","TileLayer","normalProvider","normalLayer","Map","data","mobile","defaultLayers","createDefaultLayers","container","useRef","a","fetch","stylePath","then","res","text","current","getBaseLayer","getProvider","setStyle","Style","useEffect","vector","center","zoom","pixelRatio","devicePixelRatio","addEventListener","getViewPort","resize","getCovidLayer","addLayer","getStyle","setProperty","getNormalLayer","addData","setCenter","setZoom","ref","App","match","params","useState","setSliderPos","setMobile","handleViewChange","innerWidth","parseInt","mobileWidth","document","slider","onPositionChange","per","getBoundingClientRect","width","height","itemOne","itemTwo","display","ReactDOM","render","StrictMode","path","component","getElementById"],"mappings":"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","file":"static/js/main.1e320a72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","module.exports = __webpack_public_path__ + \"static/media/lyon.5aa0a286.png\";","module.exports = __webpack_public_path__ + \"static/media/paris.3ca72396.png\";","module.exports = __webpack_public_path__ + \"static/media/nantes.1243c7b4.png\";","module.exports = __webpack_public_path__ + \"static/media/berlin.7cb802e4.png\";","module.exports = __webpack_public_path__ + \"static/media/frankfurt.5d93357a.png\";","module.exports = __webpack_public_path__ + \"static/media/hamburg.d4657e53.png\";","module.exports = __webpack_public_path__ + \"static/media/stuttgart.55c1ffac.png\";","module.exports = __webpack_public_path__ + \"static/media/style.829cb9ad.yaml\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"840px\"};","import { normal, covid } from './style/global.scss';\nimport React from 'react';\nimport lyonImg from './static/lyon.png';\nimport parisImg from './static/paris.png';\nimport nantesImg from './static/nantes.png';\nimport berlinImg from './static/berlin.png';\nimport frankfurtImg from './static/frankfurt.png';\nimport hamburgImg from './static/hamburg.png';\nimport stuttgartImg from './static/stuttgart.png';\nimport measurements from './data/measurements.json';\n\n/**\n * TODO: Change api key to this:\n * ZPsPkW20penY5wYBXiQF5PYIZs22XVSNMiykcJ0cwRw\n *\n */\n\nexport const token = 'AHy7HHPkQFC5fcpQBmnQ7QA';\nexport const apikey = '1vO5Q3rOsOrwY8Ib0s_AEJn0-OyK0GvDBmAhyqNPHYc';\nexport const platform = new window.H.service.Platform({ apikey });\n\nexport const colors = {\n   covid,\n   normal,\n};\n\nexport const locations = {\n   paris: {\n      coordinates: { lat: 48.864716, lng: 2.349014 },\n      country: 'France',\n      label: 'Paris',\n      img: parisImg,\n      attribution: (\n         <a href=\"https://opendata.paris.fr/page/home/\">Open Data Paris</a>\n      ),\n      measurements: measurements.paris,\n      population: 2148271,\n   },\n   nantes: {\n      coordinates: { lat: 47.218102, lng: -1.5528 },\n\n      country: 'France',\n      label: 'Nantes',\n      img: nantesImg,\n      attribution: <a href=\"https://data.grandlyon.com\">data.grandlyon.com</a>,\n      measurements: measurements.nantes,\n      population: 309346,\n   },\n   lyon: {\n      coordinates: { lat: 45.74846, lng: 4.84671 },\n      country: 'France',\n      label: 'Lyon',\n      img: lyonImg,\n      attribution: (\n         <a href=\"https://data.nantesmetropole.fr/pages/home/\">\n            data.nantesmetropole.fr\n         </a>\n      ),\n      measurements: measurements.lyon,\n      population: 513275,\n   },\n   berlin: {\n      coordinates: { lat: 52.520008, lng: 13.404954 },\n      country: 'Allemagne',\n      label: 'Berlin',\n      img: berlinImg,\n      attribution: (\n         <a href=\"https://www.stadtentwicklung.berlin.de/geoinformation/\">\n            Geoportal Berlin\n         </a>\n      ),\n      measurements: measurements.berlin,\n      population: 3769495,\n   },\n   frankfurt: {\n      coordinates: { lat: 50.110924, lng: 8.682127 },\n      country: 'Allemagne',\n      label: 'Frankfurt',\n      img: frankfurtImg,\n      attribution: 'Geoportal Frankfurt',\n      measurements: measurements.frankfurt,\n      population: 753056,\n   },\n   stuttgart: {\n      coordinates: { lat: 48.783333, lng: 9.183333 },\n      country: 'Allemagne',\n      label: 'Stuttgart',\n      img: stuttgartImg,\n      attribution: 'Geoportal Stuttgart',\n      measurements: measurements.stuttgart,\n      population: 634830,\n   },\n   hamburg: {\n      coordinates: { lat: 53.551086, lng: 9.993682 },\n      country: 'Allemagne',\n      label: 'Hamburg',\n      img: hamburgImg,\n      attribution: 'Geoportal Hamburg',\n      measurements: measurements.hamburg,\n      population: 1899160,\n   },\n};\n\nexport const maxMeasurement = Math.max(\n   ...Object.keys(measurements).map((x) =>\n      Math.max(measurements[x].covid, measurements[x].normal)\n   )\n);\nconsole.log(maxMeasurement);\n\nexport const spaces = {\n   normal: 'eQotPZjs',\n   covid: 'rdkoDe4D',\n};\n","import React from 'react';\nconst logo = (props) => (\n   <img\n      src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgICAgICAgIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlV2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGxSdWxlPSJldmVub2RkIj4KICAgICAgICAgICAgPHBhdGggZD0iTTkuNTMxNDg3NTMsMzUuOTE0NDE5NCBMMi43MTgwNjQzLDI5LjIyMjM2NTYgQzEuOTE5OTk0ODMsMjguNDM4NTEyMyAxLjkxOTk5NDgzLDI3LjE1MjQ4ODggMi43MTgwNjQzLDI2LjM2ODYzNTUgTDUuNTA4MzA4MiwyMy42MjgwOTUgQzYuMjg2MzQ3NTksMjIuODYzOTE1IDcuNTMzMTY0NiwyMi44NjM5MTUgOC4zMTEyMDM5OSwyMy42MjgwOTUgTDExLjE5OTIwMDUsMjYuNDY0NjQ2OCBDMTEuNDUwOTM0OCwyNi4xMTY1NDg2IDExLjczODA3NzYsMjUuNzgzNjIyNSAxMi4wNTQ2NDk3LDI1LjQ3MjY4OTYgQzEzLjM0MDU0OTEsMjQuMjA5Njk2MSAxNS4wMzg3NDAxLDIzLjU1MzUyOTkgMTYuNzg2OTk3MiwyMy42NTk5MTA3IEMxNi44MzQ2NDM3LDIxLjgxNTYzMDUgMTcuNjIyMDMwMiwyMC4wMDQ0ODIzIDE5LjE5MTIzNSwxOC40NjMyMzAxIEMyMC4zMTU0MjksMTcuMzU5MDYxNyAyMS41NzYyNzQsMTYuNjM4MDIyMSAyMi44OTE2NjA2LDE2LjMwNzI2ODQgQzIyLjg0NjU0MjgsMTUuNzM4MTg4IDIzLjA0Mzk2MTksMTUuMTUzNDU3MiAyMy40ODM5MTgsMTQuNzIxMzM4MiBMMjYuMDA1ODY5MiwxMi4yNDQzMTEyIEMyNi4yNzgzNTQzLDExLjk3NjY3OTkgMjYuNjA5OTM3MywxMS44MDE4Njg2IDI2Ljk1OTYzOTUsMTEuNzIxNzkwNCBDMjcuMzY3MjMzLDEwLjM3NjI1OTMgMjguMjg0MjAyMyw5LjI5OTU0NzI0IDI5LjM2OTYwNjYsOC43NjY1MTI0IEMyOS42Mzk0NDUxLDguNjMzOTk2NSAyOS45Mjc4NDA1LDguNTY3MTA5NzYgMzAuMjE0NTU2MSw4LjU2MTk1NTAzIEMzMC42MTg5NjgzLDcuNTI0MTI4NjggMzEuMjc2NzA1Myw2LjU0MDMzOTAyIDMyLjE3NjYwMDksNS42NTY0NzM3MSBDMzUuNTIxODE0OCwyLjM3MDg0ODk3IDM5Ljk3MzgxMzcsMi41MjA4MDQ3MiA0My41MzYzOTYsNS45OTc1MjI4MSBDNDMuOTEyNjUyMiw2LjM0MjM0MzQyIDQ0LjYyNzQ5NjMsNy4xMjE3OTk3NyA0NC42OTE2OTEzLDcuMTg0ODUxMjUgQzQ1LjQ4MjAzNTgsNy45NjExMTY2NCA0NS40ODk2ODY3LDkuMjI5ODc3NyA0NC43MTQ2NDM2LDEwLjAxNTY3ODIgTDQ2LjUyOTI5NTYsMTEuMTE5MDIzNSBDNDcuMzIyOTk5NSwxMS42MDE2MTE2IDQ3LjY3OTk1OTIsMTIuNTY3MTU3MyA0Ny4zOTEwNDY0LDEzLjQ0OTk4NiBDNDcuMjg3MDE2NywxMy43Njc4Njg3IDQ3LjA4NTYxOTIsMTQuMjIzOTk1IDQ2Ljc2MDQ0MDIsMTQuNzcxNTE0OCBDNDYuMjU1NDE4MywxNS42MjE4NDQ3IDQ1LjU4MDA3NzIsMTYuNDYxODA5MiA0NC43MTA4MzM3LDE3LjI0MDA1MDcgQzQyLjQwNjc4NSwxOS40NjM3OTM5IDM5Ljc4NTE5NDksMjAuMjEzNzY5OCAzNy4yNjc4NDI4LDE5LjY1Njc1OTMgTDM4LjAzODAzMzMsMjAuNDEzMjMwMSBDMzguODM2MTAyNywyMS4xOTcwODMzIDM4LjgzNjEwMjcsMjIuNDgzMTA2OSAzOC4wMzgwMzMzLDIzLjI2Njk2MDEgTDM1LjE0MDQ3MjMsMjYuMTEyOTA2MSBDMzQuODU3NDQ0NiwyNi4zOTA4OTIxIDM0LjUxMjM4NDEsMjYuNTY3NzU1MSAzNC4xNTA0MjIyLDI2LjY0MzQ5NDkgQzM0LjAzNjUyNSwyNi45MDg0MzMzIDMzLjg3ODAxNjksMjcuMjI0MjQ3MiAzMy42Njc3NTczLDI3LjU3ODI3MTYgQzMzLjE1NTA3ODksMjguNDQxNDkzMSAzMi40NjY4Nzc4LDI5LjI5NDAzMjYgMzEuNjY1NDMzMSwzMC4wMDAyNTQ2IEMzMC4zMTU5OTEsMzEuMzI1NzcyIDI4LjkwNTg0NiwzMi4xMjE4NTIgMjcuNDU1OTAyMywzMi40Njg2MTU3IEMyNy41NDE0NDY2LDMzLjA3NTA5NzcgMjcuMzQ4NDk4NCwzMy43MTMzNzY4IDI2Ljg3NzA1NzcsMzQuMTc2NDE5NiBMMjQuMTQwNDcyMywzNi44NjQyNTc0IEMyMy41MTE3OTY1LDM3LjQ4MTczNDQgMjIuNTc3MDUzNCwzNy42MDAyNzQyIDIxLjgzMDg2MzQsMzcuMjE5ODc2OCBDMjIuMjg2Mjk0MSwzOC40NDA2OTU3IDIxLjQyMzU1OTYsMzkuOTE0NDE5NCAxOS45NDg3ODA1LDM5LjkxNDQxOTQgTDE1LjEzMjU1MjUsMzkuOTE0NDE5NCBMOS44MTM2NDMwMiw0NS4xMzg1ODE4IEM5LjAzNTYwMzYzLDQ1LjkwMjc2MTcgNy43ODg3ODY2Miw0NS45MDI3NjE3IDcuMDEwNzQ3MjMsNDUuMTM4NTgxOCBMMS4xMDgzMDgyLDM5LjM0MTI4NDUgQy0wLjE2OTA4NDQ2MSwzOC4wODY2NDYzIDAuNzE5MjY3NjYsMzUuOTE0NDE5NCAyLjUwOTc1NjEsMzUuOTE0NDE5NCBMOS41MzE0ODc1MywzNS45MTQ0MTk0IFoiIGZpbGw9IiNGRkZGRkYiIGZpbGxSdWxlPSJub256ZXJvIiAvPgogICAgICAgICAgICA8ZyBpZD0iSEVSRV9sb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLCA1KSIgZmlsbFJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM2NUMxQzIiIHBvaW50cz0iMTIuMzE0NjM0MSAzMi45MTQ0MTk0IDYuNDEyMTk1MTIgMzguNzExNzE2NyAwLjUwOTc1NjA5OCAzMi45MTQ0MTk0IiAvPgogICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMC45NTM2NTg1LDE5LjczODc0MzggQzE5LjcxOTUxMjIsMTguMzE1NzcwOCAxOS43NzMxNzA3LDE3LjUyNTIzMDMgMjAuNTI0MzkwMiwxNi43ODczOTI0IEMyMS40MzY1ODU0LDE1Ljg5MTQ0NjUgMjIuNDAyNDM5LDE2LjI2MDM2NTQgMjMuNDc1NjA5OCwxNy4yNjE3MTY3IEwyMC45NTM2NTg1LDE5LjczODc0MzggWiBNMzMuNjE3MDczMiwzLjkyNzkzMjk2IEMzNC41MjkyNjgzLDMuMDMxOTg3MzMgMzUuNDk1MTIyLDMuNDAwOTA2NDYgMzYuNTY4MjkyNyw0LjQwMjI1NzI4IEwzNC4wNDYzNDE1LDYuODc5Mjg0MzEgQzMyLjc1ODUzNjYsNS40NTYzMTEzNCAzMi44MTIxOTUxLDQuNzE4NDczNSAzMy42MTcwNzMyLDMuOTI3OTMyOTYgWiBNNDEuMjM2NTg1NCw2LjQ1NzY2MjY5IEM0MC4xMDk3NTYxLDguMTQ0MTQ5MTggMzguMDcwNzMxNywxMC44ODQ2ODk3IDM1Ljk3ODA0ODgsOC44MjkyODQzMSBMNDEuMjkwMjQzOSwzLjYxMTcxNjc0IEM0MC44MDczMTcxLDMuMTM3MzkyNzQgNDAuNDg1MzY1OSwyLjcxNTc3MTIyIDQwLjE2MzQxNDYsMi40NTIyNTc3MSBDMzcuMzE5NTEyMiwtMC4zNDA5ODU1OTEgMzQuMSwtMC4zOTM2ODgyOTMgMzEuNTc4MDQ4OCwyLjA4MzMzODczIEMyOS45MTQ2MzQxLDMuNzE3MTIyMTUgMjkuNDMxNzA3Myw1LjYxNDQxOTQ1IDI5LjkxNDYzNDEsNy40MDYzMTEzNCBMMjguMjUxMjE5NSw1LjU2MTcxNjc0IEMyNy44MjE5NTEyLDUuNzcyNTI3NTUgMjUuNzgyOTI2OCw3LjU2NDQxOTQ1IDI3LjI4NTM2NTksMTAuMTk5NTU0NiBMMjUuNDA3MzE3MSw4LjY3MTE3NjIgTDIyLjg4NTM2NTksMTEuMTQ4MjAzMiBMMjYuMzE5NTEyMiwxNC41MjExNzYyIEMyMy42OTAyNDM5LDEyLjQ2NTc3MDggMjAuODQ2MzQxNSwxMi42NzY1ODE2IDE4LjU5MjY4MjksMTQuODkwMDk1MSBDMTYuMTc4MDQ4OCwxNy4yNjE3MTY3IDE2LjMzOTAyNDQsMjAuMTYwMzY1NCAxOC4xNjM0MTQ2LDIyLjUzMTk4NyBMMTcuNzg3ODA0OSwyMi4xNjMwNjgxIEMxNS4zNzMxNzA3LDE5Ljc5MTQ0NjUgMTIuNzQzOTAyNCwyMC42MzQ2ODk3IDExLjQ1NjA5NzYsMjEuODk5NTU0NiBDMTAuNDM2NTg1NCwyMi45MDA5MDU5IDkuODQ2MzQxNDYsMjQuMjE4NDczNSAxMC4xMTQ2MzQxLDI1LjE2NzEyMjEgTDQuOTA5NzU2MSwyMC4wNTQ5NiBMMi4xMTk1MTIyLDIyLjc5NTUwMDUgTDEyLjQyMTk1MTIsMzIuOTE0NDE5NCBMMTcuOTQ4NzgwNSwzMi45MTQ0MTk0IEwxNC4yNDYzNDE1LDI5LjI3NzkzMyBDMTIuMzE0NjM0MSwyNy4zMjc5MzMgMTIuMjYwOTc1NiwyNi4zMjY1ODE2IDEzLjIyNjgyOTMsMjUuMzc3OTMzIEMxNC4xMzkwMjQ0LDI0LjQ4MTk4NyAxNS4yMTIxOTUxLDI1LjA2MTcxNjcgMTcuMDkwMjQzOSwyNi44NTM2MDg2IEwyMC43MzkwMjQ0LDMwLjQzNzM5MjQgTDIzLjQ3NTYwOTgsMjcuNzQ5NTU0NiBMMTkuOTg3ODA0OSwyNC4zMjM4Nzg5IEMyMi41MDk3NTYxLDI2LjE2ODQ3MzUgMjUuNTE0NjM0MSwyNi4yNzM4Nzg5IDI4LjE5NzU2MSwyMy42Mzg3NDM4IEMyOC4xOTc1NjEsMjMuNjM4NzQzOCAyOC4yNTEyMTk1LDIzLjU4NjA0MTEgMjguMjUxMjE5NSwyMy41ODYwNDExIEMyOS45MTQ2MzQxLDIyLjExMDM2NTQgMzAuMzk3NTYxLDIwLjYzNDY4OTcgMzAuMzk3NTYxLDIwLjYzNDY4OTcgTDI4LjMwNDg3OCwxOS4yNjQ0MTk0IEMyNy4xNzgwNDg4LDIwLjk1MDkwNTkgMjUuMTkyNjgyOSwyMy42OTE0NDY1IDIzLjEsMjEuNjM2MDQxMSBMMjguNDEyMTk1MSwxNi40MTg0NzM1IEwzMS43MzkwMjQ0LDE5LjY4NjA0MTEgTDM0LjYzNjU4NTQsMTYuODQwMDk1MSBMMzAuNTA0ODc4LDEyLjc4MTk4NyBDMjguNTczMTcwNywxMC44ODQ2ODk3IDI5LjcsOS4wOTI3OTc4MiAzMC41MDQ4NzgsOC40MDc2NjI2OSBDMzAuODgwNDg3OCw5LjE5ODIwMzIzIDMxLjQxNzA3MzIsOS45MzYwNDEwNyAzMi4xMTQ2MzQxLDEwLjYyMTE3NjIgQzM0Ljc5NzU2MSwxMy4yNTYzMTEzIDM4LjIzMTcwNzMsMTMuNzgzMzM4NCA0MS4yOTAyNDM5LDEwLjgzMTk4NyBDNDEuMjkwMjQzOSwxMC44MzE5ODcgNDEuMzQzOTAyNCwxMC43NzkyODQzIDQxLjM0MzkwMjQsMTAuNzc5Mjg0MyBDNDMuMDA3MzE3MSw5LjMwMzYwODY0IDQzLjQ5MDI0MzksNy44Mjc5MzI5NiA0My40OTAyNDM5LDcuODI3OTMyOTYgTDQxLjIzNjU4NTQsNi40NTc2NjI2OSBaIiBmaWxsPSIjMzkzRTQ3Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgIDwvZz4KICAgICAgICA8L3N2Zz4=\"\n      alt=\"HERE logo\"\n      {...props}\n   ></img>\n);\n\nexport default logo;\n","import React from 'react';\nimport Logo from '../static/Logo';\nimport './Header.scss';\nconst Header = ({ label }) => {\n   return (\n      <header>\n         <Logo className=\"logo\" />\n         <div className=\"vertical-line\" />\n         <h1>Nouvelles pistes cyclables post COVID à {label}</h1>\n      </header>\n   );\n};\n\nexport default Header;\n","function formatPopulation(input) {\n   if (input < 1000000) {\n      return (input / 1000).toFixed(1) + ' K';\n   } else {\n      return (input / 1000000).toFixed(1) + ' M';\n   }\n}\n\nexport default formatPopulation;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { colors, locations, maxMeasurement } from '../config';\nimport formatPopulation from '../util/formatPopulation';\nimport './CityTile.scss';\n\nconst barLength = 90;\nconst CityTile = ({ city, selected }) => {\n   return (\n      <Link\n         to={`/${city}`}\n         className={`city-tile ${selected ? 'tile-selected' : ''}`}\n      >\n         <div className=\"radio-col\">\n            <input type=\"radio\" checked={selected} />\n         </div>\n         <div>\n            <div className=\"sublead\">\n               <img\n                  src={`https://restcountries.eu/data/${\n                     locations[city].country === 'France' ? 'fra' : 'deu'\n                  }.svg`}\n               />\n               {locations[city].country}\n            </div>\n\n            <div className=\"lead\">{locations[city].label}</div>\n         </div>\n         <div>\n            <div className=\"sublead\">Population</div>\n            <div className=\"lead\">\n               {formatPopulation(locations[city].population)}\n            </div>\n         </div>\n         <div>\n            <div className=\"sublead\">distance popup</div>\n            <div className=\"lead covid-measurement-lead\">\n               {Math.round(locations[city].measurements.covid * 10) / 10} KM\n            </div>\n         </div>\n      </Link>\n   );\n};\n\nexport default CityTile;\n","import React, { useState } from 'react';\nimport './Sidebar.scss';\nimport { colors, locations } from '../config';\nimport Header from './Header';\nimport CityTile from './CityTile';\n\nconst Section = ({ title, children, className }) => {\n   return (\n      <div className=\"section\">\n         {title && <div className=\"section-title\">{title}</div>}\n\n         <div className={`section-content ${className ? className : ''}`}>\n            {children}\n         </div>\n      </div>\n   );\n};\n\nconst Sidebar = ({ city, header }) => {\n   return (\n      <div className=\"sidebar\">\n         {header && <Header label={locations[city].label} />}\n\n         <Section title=\"A propos\">\n            <p>\n               De nombreuses autorités locales à travers l’Europe encouragent\n               les déplacements à vélo afin de réduire les risques sanitaires\n               liés à la pandémie ainsi que la pollution.\n            </p>\n            <p>\n               Dans ce contexte, plusieurs villes françaises et européennes ont\n               créé de nouvelles pistes cyclables. Sélectionnez une ville dans\n               la liste ci-dessous pour consulter sa carte.\n            </p>\n            <p>\n               Pour visualiser les évolutions, balayez l’écran avec le curseur,\n               de gauche à droite sur la carte.\n            </p>\n         </Section>\n         <Section title=\"Légende\">\n            <div className=\"legend-row\">\n               <div\n                  className=\"line\"\n                  style={{\n                     background: colors.normal,\n                  }}\n               ></div>\n               Pistes existantes avant COVID-19\n            </div>\n            <div className=\"legend-row\">\n               <div\n                  className=\"line\"\n                  style={{\n                     background: colors.covid,\n                  }}\n               ></div>\n               Pistes créées en raison de COVID-19\n            </div>\n         </Section>\n\n         <div className=\"city-grid\">\n            {Object.keys(locations)\n            .map((currCity, index) => {\n               return (\n                  <CityTile\n                     key={index}\n                     city={currCity}\n                     selected={city === currCity}\n                  />\n               );\n            })}\n         </div>\n         <Section className=\"attribution\">\n            <div>Données fournies par {locations[city].attribution}</div>\n            <div>\n               Bicycle lane length calculations may not match exactly to city\n               specifications.\n            </div>\n         </Section>\n      </div>\n   );\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport './MobileNav.scss';\n\nimport {\n   Map as MapIcon,\n   FormatListBulleted as FormatListBulletedIcon,\n} from '@material-ui/icons';\nconst MobileNav = ({ selectedTab, setSelectedTab }) => {\n   return (\n      <div className=\"mobile-nav\">\n         <div\n            className={`tab ${selectedTab === 0 ? `tab-selected` : ``}`}\n            onClick={() => setSelectedTab(0)}\n         >\n            <MapIcon className=\"icon\" />\n            Carte\n         </div>\n         <div\n            className={`tab ${selectedTab === 1 ? `tab-selected` : ``}`}\n            onClick={() => setSelectedTab(1)}\n         >\n            <FormatListBulletedIcon className=\"icon\" />\n            Infos\n         </div>\n      </div>\n   );\n};\n\nexport default MobileNav;\n","import React from 'react';\nconst Descriptor = ({ side, sliderPos }) => {\n   return (\n      <div\n         style={{ left: side === 'left' ? 0 : sliderPos }}\n         className=\"descriptor\"\n      >\n         {side === 'left'\n            ? 'Pistes existantes avant COVID-19'\n            : 'Pistes créées en raison de COVID-19'}\n      </div>\n   );\n};\n\nexport default Descriptor;\n","import { platform, spaces, token } from '../config';\nconst { H } = window;\nclass LayerManager {\n   constructor() {\n      this.service = platform.getXYZService({\n         token,\n      });\n\n      this.covidProvider = new H.service.xyz.Provider(\n         this.service,\n         spaces.covid\n      );\n      this.covidLayer = new H.map.layer.TileLayer(this.covidProvider);\n\n      this.normalProvider = new H.service.xyz.Provider(\n         this.service,\n         spaces.normal\n      );\n      this.normalLayer = new H.map.layer.TileLayer(this.normalProvider);\n   }\n\n   getCovidLayer() {\n      return [this.covidLayer, this.covidProvider];\n   }\n\n   getNormalLayer() {\n      return [this.normalLayer, this.normalProvider];\n   }\n}\n\nconst layerManager = new LayerManager();\n\nexport default layerManager;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { platform, colors, locations, spaces } from '../config';\nimport stylePath from '../static/style.yaml';\nimport './Map.scss';\nimport Descriptor from './Descriptor';\nimport layerManager from '../util/LayerManager';\nconst { H } = window;\n\nconst Map = ({ data, city, side, sliderPos, mobile }) => {\n   const defaultLayers = platform.createDefaultLayers();\n   const container = useRef(null);\n   const map = useRef(null);\n\n   useEffect(() => {\n      map.current = new H.Map(\n         container.current,\n         defaultLayers.vector.normal.map,\n         {\n            center: locations[city].coordinates,\n            zoom: mobile ? 12.5 : 13.2,\n            pixelRatio: window.devicePixelRatio || 1,\n         }\n      );\n      window.addEventListener('resize', () =>\n         map.current.getViewPort().resize()\n      );\n\n      setStyle();\n      addData();\n   }, []);\n\n   // useEffect(() => {\n   //    console.log('data length changed');\n   //    // addObjects();\n   //    addData();\n   // }, [data.length]);\n\n   useEffect(() => {\n      map.current.setCenter(locations[city].coordinates);\n      map.current.setZoom(mobile ? 12.5 : 13.2);\n   }, [city]);\n\n   useEffect(() => {\n      map.current.getViewPort().resize();\n      map.current.setZoom(mobile ? 12.5 : 13.2);\n   }, [mobile]);\n\n   async function setStyle() {\n      const style = await fetch(stylePath).then((res) => res.text());\n      const provider = map.current.getBaseLayer().getProvider();\n      provider.setStyle(new H.map.Style(style));\n   }\n\n   function addData() {\n      if (side === 'right') {\n         const [covidLayer, covidProvider] = layerManager.getCovidLayer();\n         map.current.addLayer(covidLayer);\n\n         covidProvider\n            .getStyle()\n            .setProperty('layers.xyz.lines.draw.lines.color', colors.covid);\n      }\n\n      const [normalLayer, normalProvider] = layerManager.getNormalLayer();\n      map.current.addLayer(normalLayer);\n      normalProvider\n         .getStyle()\n         .setProperty('layers.xyz.lines.draw.lines.color', colors.normal);\n\n      normalProvider\n         .getStyle()\n         .setProperty('layers.xyz.lines.draw.lines.width', '1px');\n\n      if (side === 'right') {\n         const [covidLayer, covidProvider] = layerManager.getCovidLayer();\n         map.current.addLayer(covidLayer);\n\n         covidProvider\n            .getStyle()\n            .setProperty('layers.xyz.lines.draw.lines.color', colors.covid);\n      }\n   }\n\n   function addObjects() {\n      data.forEach(({ geometry, properties }) => {\n         const lineString = new H.geo.LineString();\n         if (geometry.type === 'LineString') {\n            geometry.coordinates.forEach(([lng, lat]) => {\n               lineString.pushPoint({ lat, lng });\n            });\n         } else if (geometry.type === 'MultiLineString') {\n            geometry.coordinates.forEach((link) => {\n               link.forEach(([lng, lat]) => {\n                  lineString.pushPoint({ lat, lng });\n               });\n            });\n         }\n         map.current.addObject(\n            new H.map.Polyline(lineString, {\n               style: {\n                  lineWidth: properties.covid ? 2 : 1,\n                  strokeColor: properties.covid ? colors.covid : colors.normal,\n               },\n            })\n         );\n      });\n   }\n\n   return (\n      <div className=\"map\" ref={container}>\n         <Descriptor side={side} sliderPos={sliderPos} />\n      </div>\n   );\n};\n\nexport default Map;\n","//React\nimport React, { useState, useRef, useEffect } from 'react';\n\n//Style\nimport './style/app.scss';\nimport { mobileWidth } from './style/global.scss';\n// import rawData from './data/data.json';\nimport Sidebar from './components/Sidebar';\nimport MobileNav from './components/MobileNav';\nimport Header from './components/Header';\n\n//Components\nimport Map from './components/Map';\nimport { ReactCompareSlider } from 'react-compare-slider';\nimport { locations, platform, spaces } from './config';\n\nconst { H } = window;\n// const data = rawData.features;\n\nfunction App(props) {\n   const { city = 'paris' } = props.match.params;\n   const [sliderPos, setSliderPos] = useState(0);\n   const [selectedTab, setSelectedTab] = useState(0);\n   const container = useRef(null);\n\n   const [mobile, setMobile] = useState(false);\n\n   useEffect(() => {\n      window.addEventListener('resize', handleViewChange);\n      handleViewChange();\n   }, []);\n\n   function handleViewChange() {\n      console.log(window.innerWidth, parseInt(mobileWidth));\n      window.innerWidth < parseInt(mobileWidth)\n         ? setMobile(true)\n         : setMobile(false);\n   }\n\n   function calculateCursorPos(percent) {\n      const { width } = container.current.getBoundingClientRect();\n      return (percent / 100) * width + 3;\n   }\n\n   document.title =\n      'Nouvelles pistes cyclables post COVID à  ' +\n      locations[city].label +\n      ' - HERE Developer';\n\n   // console.log(mobile, selectedTab);\n\n   const slider = (\n      <ReactCompareSlider\n         onPositionChange={(per) => setSliderPos(calculateCursorPos(per))}\n         style={{ height: '100%' }}\n         itemOne={\n            <Map\n               sliderPos={sliderPos}\n               city={city}\n               side=\"left\"\n               mobile={mobile}\n            />\n         }\n         itemTwo={\n            <Map\n               sliderPos={sliderPos}\n               city={city}\n               side=\"right\"\n               mobile={mobile}\n            />\n         }\n      />\n   );\n   if (mobile) {\n      return (\n         <div className=\"app\">\n            <Header label={locations[city].label} />\n            <div\n               className=\"slider-container\"\n               ref={container}\n               style={{ display: selectedTab === 0 ? 'block' : 'none' }}\n            >\n               {slider}\n            </div>\n            <div\n               style={{\n                  display: selectedTab === 1 ? '' : 'none',\n               }}\n               className=\"mobile-sidebar-container\"\n            >\n               <Sidebar header={false} city={city} />\n            </div>\n\n            <MobileNav\n               selectedTab={selectedTab}\n               setSelectedTab={setSelectedTab}\n            />\n         </div>\n      );\n   } else {\n      return (\n         <div className=\"app\">\n            <Sidebar header={true} city={city} />\n            <div className=\"slider-container\" ref={container}>\n               {slider}\n            </div>\n         </div>\n      );\n   }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.scss';\nimport App from './App';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nReactDOM.render(\n   <Router>\n      <React.StrictMode>\n         <Switch>\n            <Route path=\"/:city\" component={App} />\n            <Route path=\"/\" component={App} />\n         </Switch>\n      </React.StrictMode>\n   </Router>,\n   document.getElementById('root')\n);\n"],"sourceRoot":""}