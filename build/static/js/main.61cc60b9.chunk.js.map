{"version":3,"sources":["style/global.scss","static/lyon.png","static/paris.png","static/nantes.png","static/style.yaml","style/app.scss","components/Sidebar.scss","components/Header.scss","components/MobileNav.scss","components/Map.scss","config.js","static/Logo.js","components/Header.js","components/Sidebar.js","components/MobileNav.js","components/Map.js","App.js","index.js"],"names":["module","exports","platform","window","H","service","Platform","apikey","colors","covid","normal","locations","paris","coordinates","lat","lng","province","label","img","parisImg","attribution","href","nantes","nantesImg","lyon","lyonImg","logo","props","src","alt","Header","Logo","className","Section","title","children","CityTile","city","selected","to","style","backgroundImage","Sidebar","header","background","Object","keys","map","currCity","index","key","MobileNav","selectedTab","setSelectedTab","onClick","FormatListBulleted","Descriptor","side","sliderPos","left","Map","data","mobile","defaultLayers","createDefaultLayers","container","useRef","a","fetch","stylePath","then","res","text","current","getBaseLayer","getProvider","setStyle","Style","useEffect","vector","center","zoom","pixelRatio","devicePixelRatio","addEventListener","getViewPort","resize","forEach","geometry","properties","lineString","geo","LineString","type","pushPoint","link","addObject","Polyline","lineWidth","strokeColor","setCenter","setZoom","ref","App","match","params","useState","setSliderPos","setMobile","handleViewChange","console","log","innerWidth","parseInt","mobileWidth","calculateCursorPos","percent","getBoundingClientRect","width","document","onPositionChange","per","height","itemOne","filter","x","itemTwo","ReactDOM","render","StrictMode","path","component","getElementById"],"mappings":"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","file":"static/js/main.61cc60b9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"800px\"};","module.exports = __webpack_public_path__ + \"static/media/lyon.5aa0a286.png\";","module.exports = __webpack_public_path__ + \"static/media/paris.3ca72396.png\";","module.exports = __webpack_public_path__ + \"static/media/nantes.1243c7b4.png\";","module.exports = __webpack_public_path__ + \"static/media/style.69b5dc71.yaml\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"800px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"800px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"800px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"800px\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"covid\":\"#3354e0\",\"normal\":\"#33e0c0\",\"mobileWidth\":\"800px\"};","import { normal, covid } from './style/global.scss';\nimport React from 'react';\nimport lyonImg from './static/lyon.png';\nimport parisImg from './static/paris.png';\nimport nantesImg from './static/nantes.png';\n\n/**\n * TODO: Change api key to this:\n * ZPsPkW20penY5wYBXiQF5PYIZs22XVSNMiykcJ0cwRw\n *\n */\n\nconst apikey = '1vO5Q3rOsOrwY8Ib0s_AEJn0-OyK0GvDBmAhyqNPHYc';\nconst { H } = window;\nconst platform = new H.service.Platform({ apikey });\n\nconst colors = {\n   covid,\n   normal,\n};\n\nconst locations = {\n   paris: {\n      coordinates: { lat: 48.864716, lng: 2.349014 },\n      province: 'Île-de-France',\n      label: 'Paris',\n      img: parisImg,\n      attribution: (\n         <a href=\"https://opendata.paris.fr/page/home/\">Open Data Paris</a>\n      ),\n   },\n   nantes: {\n      coordinates: { lat: 47.218102, lng: -1.5528 },\n\n      province: 'Pays de la Loire',\n      label: 'Nantes',\n      img: nantesImg,\n      attribution: <a href=\"https://data.grandlyon.com\">data.grandlyon.com</a>,\n   },\n   lyon: {\n      coordinates: { lat: 45.74846, lng: 4.84671 },\n      province: 'Auvergne-Rhône-Alpes',\n      label: 'Lyon',\n      img: lyonImg,\n      attribution: (\n         <a href=\"https://data.nantesmetropole.fr/pages/home/\">\n            data.nantesmetropole.fr\n         </a>\n      ),\n   },\n};\n\nexport { platform, colors, locations };\n","import React from 'react';\nconst logo = (props) => (\n   <img\n      src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgICAgICAgIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlV2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGxSdWxlPSJldmVub2RkIj4KICAgICAgICAgICAgPHBhdGggZD0iTTkuNTMxNDg3NTMsMzUuOTE0NDE5NCBMMi43MTgwNjQzLDI5LjIyMjM2NTYgQzEuOTE5OTk0ODMsMjguNDM4NTEyMyAxLjkxOTk5NDgzLDI3LjE1MjQ4ODggMi43MTgwNjQzLDI2LjM2ODYzNTUgTDUuNTA4MzA4MiwyMy42MjgwOTUgQzYuMjg2MzQ3NTksMjIuODYzOTE1IDcuNTMzMTY0NiwyMi44NjM5MTUgOC4zMTEyMDM5OSwyMy42MjgwOTUgTDExLjE5OTIwMDUsMjYuNDY0NjQ2OCBDMTEuNDUwOTM0OCwyNi4xMTY1NDg2IDExLjczODA3NzYsMjUuNzgzNjIyNSAxMi4wNTQ2NDk3LDI1LjQ3MjY4OTYgQzEzLjM0MDU0OTEsMjQuMjA5Njk2MSAxNS4wMzg3NDAxLDIzLjU1MzUyOTkgMTYuNzg2OTk3MiwyMy42NTk5MTA3IEMxNi44MzQ2NDM3LDIxLjgxNTYzMDUgMTcuNjIyMDMwMiwyMC4wMDQ0ODIzIDE5LjE5MTIzNSwxOC40NjMyMzAxIEMyMC4zMTU0MjksMTcuMzU5MDYxNyAyMS41NzYyNzQsMTYuNjM4MDIyMSAyMi44OTE2NjA2LDE2LjMwNzI2ODQgQzIyLjg0NjU0MjgsMTUuNzM4MTg4IDIzLjA0Mzk2MTksMTUuMTUzNDU3MiAyMy40ODM5MTgsMTQuNzIxMzM4MiBMMjYuMDA1ODY5MiwxMi4yNDQzMTEyIEMyNi4yNzgzNTQzLDExLjk3NjY3OTkgMjYuNjA5OTM3MywxMS44MDE4Njg2IDI2Ljk1OTYzOTUsMTEuNzIxNzkwNCBDMjcuMzY3MjMzLDEwLjM3NjI1OTMgMjguMjg0MjAyMyw5LjI5OTU0NzI0IDI5LjM2OTYwNjYsOC43NjY1MTI0IEMyOS42Mzk0NDUxLDguNjMzOTk2NSAyOS45Mjc4NDA1LDguNTY3MTA5NzYgMzAuMjE0NTU2MSw4LjU2MTk1NTAzIEMzMC42MTg5NjgzLDcuNTI0MTI4NjggMzEuMjc2NzA1Myw2LjU0MDMzOTAyIDMyLjE3NjYwMDksNS42NTY0NzM3MSBDMzUuNTIxODE0OCwyLjM3MDg0ODk3IDM5Ljk3MzgxMzcsMi41MjA4MDQ3MiA0My41MzYzOTYsNS45OTc1MjI4MSBDNDMuOTEyNjUyMiw2LjM0MjM0MzQyIDQ0LjYyNzQ5NjMsNy4xMjE3OTk3NyA0NC42OTE2OTEzLDcuMTg0ODUxMjUgQzQ1LjQ4MjAzNTgsNy45NjExMTY2NCA0NS40ODk2ODY3LDkuMjI5ODc3NyA0NC43MTQ2NDM2LDEwLjAxNTY3ODIgTDQ2LjUyOTI5NTYsMTEuMTE5MDIzNSBDNDcuMzIyOTk5NSwxMS42MDE2MTE2IDQ3LjY3OTk1OTIsMTIuNTY3MTU3MyA0Ny4zOTEwNDY0LDEzLjQ0OTk4NiBDNDcuMjg3MDE2NywxMy43Njc4Njg3IDQ3LjA4NTYxOTIsMTQuMjIzOTk1IDQ2Ljc2MDQ0MDIsMTQuNzcxNTE0OCBDNDYuMjU1NDE4MywxNS42MjE4NDQ3IDQ1LjU4MDA3NzIsMTYuNDYxODA5MiA0NC43MTA4MzM3LDE3LjI0MDA1MDcgQzQyLjQwNjc4NSwxOS40NjM3OTM5IDM5Ljc4NTE5NDksMjAuMjEzNzY5OCAzNy4yNjc4NDI4LDE5LjY1Njc1OTMgTDM4LjAzODAzMzMsMjAuNDEzMjMwMSBDMzguODM2MTAyNywyMS4xOTcwODMzIDM4LjgzNjEwMjcsMjIuNDgzMTA2OSAzOC4wMzgwMzMzLDIzLjI2Njk2MDEgTDM1LjE0MDQ3MjMsMjYuMTEyOTA2MSBDMzQuODU3NDQ0NiwyNi4zOTA4OTIxIDM0LjUxMjM4NDEsMjYuNTY3NzU1MSAzNC4xNTA0MjIyLDI2LjY0MzQ5NDkgQzM0LjAzNjUyNSwyNi45MDg0MzMzIDMzLjg3ODAxNjksMjcuMjI0MjQ3MiAzMy42Njc3NTczLDI3LjU3ODI3MTYgQzMzLjE1NTA3ODksMjguNDQxNDkzMSAzMi40NjY4Nzc4LDI5LjI5NDAzMjYgMzEuNjY1NDMzMSwzMC4wMDAyNTQ2IEMzMC4zMTU5OTEsMzEuMzI1NzcyIDI4LjkwNTg0NiwzMi4xMjE4NTIgMjcuNDU1OTAyMywzMi40Njg2MTU3IEMyNy41NDE0NDY2LDMzLjA3NTA5NzcgMjcuMzQ4NDk4NCwzMy43MTMzNzY4IDI2Ljg3NzA1NzcsMzQuMTc2NDE5NiBMMjQuMTQwNDcyMywzNi44NjQyNTc0IEMyMy41MTE3OTY1LDM3LjQ4MTczNDQgMjIuNTc3MDUzNCwzNy42MDAyNzQyIDIxLjgzMDg2MzQsMzcuMjE5ODc2OCBDMjIuMjg2Mjk0MSwzOC40NDA2OTU3IDIxLjQyMzU1OTYsMzkuOTE0NDE5NCAxOS45NDg3ODA1LDM5LjkxNDQxOTQgTDE1LjEzMjU1MjUsMzkuOTE0NDE5NCBMOS44MTM2NDMwMiw0NS4xMzg1ODE4IEM5LjAzNTYwMzYzLDQ1LjkwMjc2MTcgNy43ODg3ODY2Miw0NS45MDI3NjE3IDcuMDEwNzQ3MjMsNDUuMTM4NTgxOCBMMS4xMDgzMDgyLDM5LjM0MTI4NDUgQy0wLjE2OTA4NDQ2MSwzOC4wODY2NDYzIDAuNzE5MjY3NjYsMzUuOTE0NDE5NCAyLjUwOTc1NjEsMzUuOTE0NDE5NCBMOS41MzE0ODc1MywzNS45MTQ0MTk0IFoiIGZpbGw9IiNGRkZGRkYiIGZpbGxSdWxlPSJub256ZXJvIiAvPgogICAgICAgICAgICA8ZyBpZD0iSEVSRV9sb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLCA1KSIgZmlsbFJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM2NUMxQzIiIHBvaW50cz0iMTIuMzE0NjM0MSAzMi45MTQ0MTk0IDYuNDEyMTk1MTIgMzguNzExNzE2NyAwLjUwOTc1NjA5OCAzMi45MTQ0MTk0IiAvPgogICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMC45NTM2NTg1LDE5LjczODc0MzggQzE5LjcxOTUxMjIsMTguMzE1NzcwOCAxOS43NzMxNzA3LDE3LjUyNTIzMDMgMjAuNTI0MzkwMiwxNi43ODczOTI0IEMyMS40MzY1ODU0LDE1Ljg5MTQ0NjUgMjIuNDAyNDM5LDE2LjI2MDM2NTQgMjMuNDc1NjA5OCwxNy4yNjE3MTY3IEwyMC45NTM2NTg1LDE5LjczODc0MzggWiBNMzMuNjE3MDczMiwzLjkyNzkzMjk2IEMzNC41MjkyNjgzLDMuMDMxOTg3MzMgMzUuNDk1MTIyLDMuNDAwOTA2NDYgMzYuNTY4MjkyNyw0LjQwMjI1NzI4IEwzNC4wNDYzNDE1LDYuODc5Mjg0MzEgQzMyLjc1ODUzNjYsNS40NTYzMTEzNCAzMi44MTIxOTUxLDQuNzE4NDczNSAzMy42MTcwNzMyLDMuOTI3OTMyOTYgWiBNNDEuMjM2NTg1NCw2LjQ1NzY2MjY5IEM0MC4xMDk3NTYxLDguMTQ0MTQ5MTggMzguMDcwNzMxNywxMC44ODQ2ODk3IDM1Ljk3ODA0ODgsOC44MjkyODQzMSBMNDEuMjkwMjQzOSwzLjYxMTcxNjc0IEM0MC44MDczMTcxLDMuMTM3MzkyNzQgNDAuNDg1MzY1OSwyLjcxNTc3MTIyIDQwLjE2MzQxNDYsMi40NTIyNTc3MSBDMzcuMzE5NTEyMiwtMC4zNDA5ODU1OTEgMzQuMSwtMC4zOTM2ODgyOTMgMzEuNTc4MDQ4OCwyLjA4MzMzODczIEMyOS45MTQ2MzQxLDMuNzE3MTIyMTUgMjkuNDMxNzA3Myw1LjYxNDQxOTQ1IDI5LjkxNDYzNDEsNy40MDYzMTEzNCBMMjguMjUxMjE5NSw1LjU2MTcxNjc0IEMyNy44MjE5NTEyLDUuNzcyNTI3NTUgMjUuNzgyOTI2OCw3LjU2NDQxOTQ1IDI3LjI4NTM2NTksMTAuMTk5NTU0NiBMMjUuNDA3MzE3MSw4LjY3MTE3NjIgTDIyLjg4NTM2NTksMTEuMTQ4MjAzMiBMMjYuMzE5NTEyMiwxNC41MjExNzYyIEMyMy42OTAyNDM5LDEyLjQ2NTc3MDggMjAuODQ2MzQxNSwxMi42NzY1ODE2IDE4LjU5MjY4MjksMTQuODkwMDk1MSBDMTYuMTc4MDQ4OCwxNy4yNjE3MTY3IDE2LjMzOTAyNDQsMjAuMTYwMzY1NCAxOC4xNjM0MTQ2LDIyLjUzMTk4NyBMMTcuNzg3ODA0OSwyMi4xNjMwNjgxIEMxNS4zNzMxNzA3LDE5Ljc5MTQ0NjUgMTIuNzQzOTAyNCwyMC42MzQ2ODk3IDExLjQ1NjA5NzYsMjEuODk5NTU0NiBDMTAuNDM2NTg1NCwyMi45MDA5MDU5IDkuODQ2MzQxNDYsMjQuMjE4NDczNSAxMC4xMTQ2MzQxLDI1LjE2NzEyMjEgTDQuOTA5NzU2MSwyMC4wNTQ5NiBMMi4xMTk1MTIyLDIyLjc5NTUwMDUgTDEyLjQyMTk1MTIsMzIuOTE0NDE5NCBMMTcuOTQ4NzgwNSwzMi45MTQ0MTk0IEwxNC4yNDYzNDE1LDI5LjI3NzkzMyBDMTIuMzE0NjM0MSwyNy4zMjc5MzMgMTIuMjYwOTc1NiwyNi4zMjY1ODE2IDEzLjIyNjgyOTMsMjUuMzc3OTMzIEMxNC4xMzkwMjQ0LDI0LjQ4MTk4NyAxNS4yMTIxOTUxLDI1LjA2MTcxNjcgMTcuMDkwMjQzOSwyNi44NTM2MDg2IEwyMC43MzkwMjQ0LDMwLjQzNzM5MjQgTDIzLjQ3NTYwOTgsMjcuNzQ5NTU0NiBMMTkuOTg3ODA0OSwyNC4zMjM4Nzg5IEMyMi41MDk3NTYxLDI2LjE2ODQ3MzUgMjUuNTE0NjM0MSwyNi4yNzM4Nzg5IDI4LjE5NzU2MSwyMy42Mzg3NDM4IEMyOC4xOTc1NjEsMjMuNjM4NzQzOCAyOC4yNTEyMTk1LDIzLjU4NjA0MTEgMjguMjUxMjE5NSwyMy41ODYwNDExIEMyOS45MTQ2MzQxLDIyLjExMDM2NTQgMzAuMzk3NTYxLDIwLjYzNDY4OTcgMzAuMzk3NTYxLDIwLjYzNDY4OTcgTDI4LjMwNDg3OCwxOS4yNjQ0MTk0IEMyNy4xNzgwNDg4LDIwLjk1MDkwNTkgMjUuMTkyNjgyOSwyMy42OTE0NDY1IDIzLjEsMjEuNjM2MDQxMSBMMjguNDEyMTk1MSwxNi40MTg0NzM1IEwzMS43MzkwMjQ0LDE5LjY4NjA0MTEgTDM0LjYzNjU4NTQsMTYuODQwMDk1MSBMMzAuNTA0ODc4LDEyLjc4MTk4NyBDMjguNTczMTcwNywxMC44ODQ2ODk3IDI5LjcsOS4wOTI3OTc4MiAzMC41MDQ4NzgsOC40MDc2NjI2OSBDMzAuODgwNDg3OCw5LjE5ODIwMzIzIDMxLjQxNzA3MzIsOS45MzYwNDEwNyAzMi4xMTQ2MzQxLDEwLjYyMTE3NjIgQzM0Ljc5NzU2MSwxMy4yNTYzMTEzIDM4LjIzMTcwNzMsMTMuNzgzMzM4NCA0MS4yOTAyNDM5LDEwLjgzMTk4NyBDNDEuMjkwMjQzOSwxMC44MzE5ODcgNDEuMzQzOTAyNCwxMC43NzkyODQzIDQxLjM0MzkwMjQsMTAuNzc5Mjg0MyBDNDMuMDA3MzE3MSw5LjMwMzYwODY0IDQzLjQ5MDI0MzksNy44Mjc5MzI5NiA0My40OTAyNDM5LDcuODI3OTMyOTYgTDQxLjIzNjU4NTQsNi40NTc2NjI2OSBaIiBmaWxsPSIjMzkzRTQ3Ii8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICAgIDwvZz4KICAgICAgICA8L3N2Zz4=\"\n      alt=\"HERE logo\"\n      {...props}\n   ></img>\n);\n\nexport default logo;\n","import React from 'react';\nimport Logo from '../static/Logo';\nimport './Header.scss';\nconst Header = ({ label }) => {\n   return (\n      <header>\n         <Logo className=\"logo\" />\n         <div className=\"vertical-line\" />\n         <h1>Nouvelle pistes cyclables post COVID en {label}</h1>\n      </header>\n   );\n};\n\nexport default Header;\n","import React, { useState } from 'react';\nimport './Sidebar.scss';\nimport { colors, locations } from '../config';\n\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\nconst Section = ({ title, children, className }) => {\n   return (\n      <div className=\"section\">\n         {title && <div className=\"section-title\">{title}</div>}\n\n         <div className={`section-content ${className ? className : ''}`}>\n            {children}\n         </div>\n      </div>\n   );\n};\n\nconst CityTile = ({ city, selected }) => {\n   return (\n      <Link\n         to={`/${city}`}\n         className={`city-tile ${selected ? 'tile-selected' : ''}`}\n      >\n         <div\n            className={`tile `}\n            style={{\n               backgroundImage: `url(${locations[city].img})`,\n            }}\n         />\n         <div className=\"label\">\n            <div className=\"label-city\">{locations[city].label}</div>\n            <div className=\"label-province\">{locations[city].province}</div>\n         </div>\n      </Link>\n   );\n};\n\nconst Sidebar = ({ city, header }) => {\n   return (\n      <div className=\"sidebar\">\n         {header && <Header label={locations[city].label} />}\n\n         <Section title=\"A propos\">\n            <p>\n               De nombreuses autorités locales à travers l’Europe encouragent\n               les déplacements à vélo afin de réduire les risques sanitaires\n               liés à la pandémie ainsi que la pollution.\n            </p>\n            <p>\n               Dans ce contexte, plusieurs villes françaises et européennes ont\n               créé de nouvelles pistes cyclables. Sélectionnez une ville dans\n               la liste ci-dessous pour consulter sa carte.\n            </p>\n            <p>\n               Pour visualiser les évolutions, balayez l’écran avec le curseur,\n               de gauche à droite sur la carte.\n            </p>\n         </Section>\n         <Section title=\"Légende\">\n            <div className=\"legend-row\">\n               <div\n                  className=\"line\"\n                  style={{\n                     background: colors.normal,\n                  }}\n               ></div>\n               Pistes existantes avant COVID-19\n            </div>\n            <div className=\"legend-row\">\n               <div\n                  className=\"line\"\n                  style={{\n                     background: colors.covid,\n                  }}\n               ></div>\n               Pistes créées en raison de COVID-19\n            </div>\n         </Section>\n\n         <Section title=\"Sélectionnez une ville\" className=\"city-grid\">\n            {Object.keys(locations).map((currCity, index) => {\n               return (\n                  <CityTile\n                     key={index}\n                     city={currCity}\n                     selected={city === currCity}\n                  />\n               );\n            })}\n         </Section>\n         <Section>\n            <div>Données fournies par {locations[city].attribution}</div>\n         </Section>\n      </div>\n   );\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport './MobileNav.scss';\n\nimport {\n   Map as MapIcon,\n   FormatListBulleted as FormatListBulletedIcon,\n} from '@material-ui/icons';\nconst MobileNav = ({ selectedTab, setSelectedTab }) => {\n   return (\n      <div className=\"mobile-nav\">\n         <div\n            className={`tab ${selectedTab === 0 ? `tab-selected` : ``}`}\n            onClick={() => setSelectedTab(0)}\n         >\n            <MapIcon className=\"icon\" />\n            Carte\n         </div>\n         <div\n            className={`tab ${selectedTab === 1 ? `tab-selected` : ``}`}\n            onClick={() => setSelectedTab(1)}\n         >\n            <FormatListBulletedIcon className=\"icon\" />\n            Info\n         </div>\n      </div>\n   );\n};\n\nexport default MobileNav;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { platform, colors, locations } from '../config';\nimport stylePath from '../static/style.yaml';\nimport './Map.scss';\nconst { H } = window;\n\nconst Descriptor = ({ side, sliderPos }) => {\n   return (\n      <div\n         style={{ left: side === 'left' ? 0 : sliderPos }}\n         className=\"descriptor\"\n      >\n         {side === 'left'\n            ? 'Pistes existantes avant COVID-19'\n            : 'Pistes créées en raison de COVID-19'}\n      </div>\n   );\n};\n\nconst Map = ({ data, city, side, sliderPos, mobile }) => {\n   const defaultLayers = platform.createDefaultLayers();\n   const container = useRef(null);\n   const map = useRef(null);\n\n   useEffect(() => {\n      map.current = new H.Map(\n         container.current,\n         defaultLayers.vector.normal.map,\n         {\n            center: locations[city].coordinates,\n            zoom: mobile ? 12.5 : 13.2,\n            pixelRatio: window.devicePixelRatio || 1,\n         }\n      );\n      window.addEventListener('resize', () =>\n         map.current.getViewPort().resize()\n      );\n      setStyle();\n      addObjects();\n   }, []);\n\n   useEffect(() => {\n      map.current.setCenter(locations[city].coordinates);\n      map.current.setZoom(mobile ? 12.5 : 13.2);\n   }, [city]);\n\n   useEffect(() => {\n      map.current.getViewPort().resize();\n      map.current.setZoom(mobile ? 12.5 : 13.2);\n   }, [mobile]);\n\n   async function setStyle() {\n      const style = await fetch(stylePath).then((res) => res.text());\n      const provider = map.current.getBaseLayer().getProvider();\n      provider.setStyle(new H.map.Style(style));\n   }\n\n   function addObjects() {\n      data.forEach(({ geometry, properties }) => {\n         const lineString = new H.geo.LineString();\n         if (geometry.type === 'LineString') {\n            geometry.coordinates.forEach(([lng, lat]) => {\n               lineString.pushPoint({ lat, lng });\n            });\n         } else if (geometry.type === 'MultiLineString') {\n            geometry.coordinates.forEach((link) => {\n               link.forEach(([lng, lat]) => {\n                  lineString.pushPoint({ lat, lng });\n               });\n            });\n         }\n         map.current.addObject(\n            new H.map.Polyline(lineString, {\n               style: {\n                  lineWidth: properties.covid ? 2 : 1,\n                  strokeColor: properties.covid ? colors.covid : colors.normal,\n               },\n            })\n         );\n      });\n   }\n\n   return (\n      <div className=\"map\" ref={container}>\n         <Descriptor side={side} sliderPos={sliderPos} />\n      </div>\n   );\n};\n\nexport default Map;\n","//React\nimport React, { useState, useRef, useEffect } from 'react';\n\n//Style\nimport './style/app.scss';\nimport { mobileWidth } from './style/global.scss';\nimport data from './data/data.json';\nimport Sidebar from './components/Sidebar';\nimport MobileNav from './components/MobileNav';\nimport Header from './components/Header';\n\n//Components\nimport Map from './components/Map';\nimport { ReactCompareSlider } from 'react-compare-slider';\nimport { locations } from './config';\n\nfunction App(props) {\n   const { city = 'paris' } = props.match.params;\n   const [sliderPos, setSliderPos] = useState(0);\n\n   const [selectedTab, setSelectedTab] = useState(0);\n   const container = useRef(null);\n\n   const [mobile, setMobile] = useState(false);\n\n   useEffect(() => {\n      window.addEventListener('resize', handleViewChange);\n      handleViewChange();\n   }, []);\n\n   function handleViewChange() {\n      console.log(window.innerWidth, parseInt(mobileWidth));\n      window.innerWidth < parseInt(mobileWidth)\n         ? setMobile(true)\n         : setMobile(false);\n   }\n\n   function calculateCursorPos(percent) {\n      const { width } = container.current.getBoundingClientRect();\n      return (percent / 100) * width + 3;\n   }\n\n   document.title =\n      ' Nouvelle pistes cyclables post COVID en ' +\n      locations[city].label +\n      ' - HERE Developer';\n\n   // console.log(mobile, selectedTab);\n   if (mobile) {\n      return (\n         <div className=\"app\">\n            <Header label={locations[city].label} />\n            {selectedTab === 0 ? (\n               <div className=\"slider-container\" ref={container}>\n                  <ReactCompareSlider\n                     onPositionChange={(per) =>\n                        setSliderPos(calculateCursorPos(per))\n                     }\n                     style={{ height: '100%' }}\n                     itemOne={\n                        <Map\n                           sliderPos={sliderPos}\n                           city={city}\n                           side=\"left\"\n                           mobile={mobile}\n                           data={data.filter((x) => !x.properties.covid)}\n                        />\n                     }\n                     itemTwo={\n                        <Map\n                           sliderPos={sliderPos}\n                           city={city}\n                           data={data}\n                           side=\"right\"\n                           mobile={mobile}\n                        />\n                     }\n                  />\n               </div>\n            ) : (\n               <Sidebar header={false} city={city} />\n            )}\n            <MobileNav\n               selectedTab={selectedTab}\n               setSelectedTab={setSelectedTab}\n            />\n         </div>\n      );\n   } else {\n      return (\n         <div className=\"app\">\n            <Sidebar header={true} city={city} />\n            <div className=\"slider-container\" ref={container}>\n               <ReactCompareSlider\n                  onPositionChange={(per) =>\n                     setSliderPos(calculateCursorPos(per))\n                  }\n                  style={{ height: '100%' }}\n                  itemOne={\n                     <Map\n                        sliderPos={sliderPos}\n                        city={city}\n                        side=\"left\"\n                        data={data.filter((x) => !x.properties.covid)}\n                        mobile={mobile}\n                     />\n                  }\n                  itemTwo={\n                     <Map\n                        sliderPos={sliderPos}\n                        city={city}\n                        data={data}\n                        side=\"right\"\n                        mobile={mobile}\n                     />\n                  }\n               />\n            </div>\n         </div>\n      );\n   }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/index.scss';\nimport App from './App';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nReactDOM.render(\n   <Router>\n      <React.StrictMode>\n         <Switch>\n            <Route path=\"/:city\" component={App} />\n            <Route path=\"/\" component={App} />\n         </Switch>\n      </React.StrictMode>\n   </Router>,\n   document.getElementById('root')\n);\n"],"sourceRoot":""}